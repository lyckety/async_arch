# Homework 4

## Сравнение с спроектированной системой на 0 неделе

### Авторизация

Я не пониманил как работать с авторизацией. Ранее я работал над проектами, которые спрятаны за API-шлюзом на котором проводилась авторизация и это был как черный ящик. Максимум прикручивалась локальная авторизация с помощью JWT.

На курсе я познакомился с oAuth. Два вечера я потратил на его изучение и попытку внедрения в проект с домашней работой, но времени не хватило и я сделал авторизацию с JWT + с помощью отдельного сервиса авторизации. Изучил как можно сделать ролевую модель с помощью JWT + gRPC Interceptors.

Также у меня не было представления с подходом, когда в каждом сервисе, реализующем бизнес-логику, есть свой кусочек связанный с хранением пользователей.

### Tasks

С точки зрения работы с задачами есть нюанс, что другие компоненты системы не знают про информацию о задаче. Я этот момент не отрисовал, но в голове держал,что эта синхронная связь будет. В остальном принципиально других взглядов нет.

### Accounting

В 0 неделе я вынес ежедневную выплату в отдельный сервис. Сейчас это выглядит избыточно, потому что идеологически это неотъемлимая часть сервиса accounting.

Еще больше бросается тот факт, что нигде не указана информация о цене на задачу.

Также сервис ничего не знает про саму задачу (ее описание, title)

### Analytics

Прежде всего смущает тот факт, что аналитика таскается в базу аккаунтинга, что при кривом запросе аналитика может намертво повесить весь сервис биллинга.

Еще одной причиной, почему не рекомендуется работать с базой аккаунтинга напрямую - потому что приходится привязываться к схеме БД. С помощью событий, когда аналитика получает только ту информацию, которая ему нужна, реализация становится проще, а сервис более гибким

### Общие моменты

В целом проработка 0 недели выглядит халтурно :-). Красиво, но даже на том уровне понимания проблемы есть неучтенные моменты. Используемые на 0 неделе подход содержит на одной схеме и попытку указать бизнес требования, и технические детали, что вносит проблемы:

- если система большая, то это будет похоже на "много чего непонятно как" и будет колосальная кигнитивная нагрузка;
- c product owner и CBO не поштормить с этим;

На 0 неделе нет понимания какие связи синхронные, а какие асинхронные.

## Что я вывел положительное для себя после курса?

Прежде всего, что АА не модная и молодежная движуха, на такой же модной и молодежной кафке, а прежде всего на несколько порядков более сложная система, нежели синхронные микросервисы. Но если конечно это не колосальное количество микросервисов, где реакционность на события сама по себе напрашивается.

Можно обойтись без кафки в проекте, где я сейчас задействован, но в прошлом проекте это реальный способ работать с огромным количеством событий (логи, алармы, а также множество бизнес событий).

Я определенно буду использовать инструменты для проектирования системы. Они научили (но не до конца, до сих пор тянет сразу провалиться в детали технической реализации), меня смотреть на систему с точки зрения бизнес ценностей.

Я хорошо убедился в том, что достаточно хорошо спроектированная система, как на 1 неделе, позволяет проще делать имплементацию, не нудно множество лишних деталей, которые только отвлекают, а достаточно общих логических связей.

Неожиданый момент - оказывается можно меньше работать на работе и успевать делать то же самое :-)

## Чем неудовлетворен после курса?

- погнался за дизайном кода в проекте и много времени потерял - и код не довел, и начал отставать после второй домашки
- из-за отставания потерял много времени на утчонение нюансов различных ошибок, рассинхронов у преподапвателя курса. Потратил оплаченное время не на знания, а на рутину.
- дедлайн по домашкам воспринимался даже тяжелее и стрессовее, чем рабочие проекты. Только бы не прочитал это бизнес :-)
- Не успел углубиться в обработку ошибок. Но теперь это мой гештальт, благо матреиалы курса и тонны проезных материалов под рукой

## Эмоции

Очень много материала, работа с переработками с последующей учебой. Сейчас пишу и чувствую, что буду выхлощен завтра. Работа над системой стала традицией, а сама система как родная, как детище.

Было очень тяжело, но очень круто.

## Благодарность

Большая благодарность "Школе сильных программистов", [Антону Давыдову](https://github.com/davydovanton) и той огромной толпе людей, что тоже впитывала знания, помогала в решении вопрос, но самое главное, что задавала "тупые вопросы Антону", вместо того, чтобы их задавал я :-D
